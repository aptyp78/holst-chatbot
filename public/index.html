html<br><!DOCTYPE html><html><head><meta charset="UTF-8"><style>body{font-family:sans-serif;margin:0;display:flex;flex-direction:column;height:100vh}#chat{flex:1;overflow-y:auto;padding:1rem}#form{display:flex}#prompt{flex:1}</style></head><body><div id="chat"></div><form id="form"><input id="prompt" autocomplete="off"><button>Send</button></form><script>const chat=document.getElementById("chat");const hist=[];function add(r,t){const d=document.createElement("div");d.textContent=(r==="user"?"ðŸ‘¤":"ðŸ¤–")+" "+t;chat.appendChild(d);chat.scrollTop=chat.scrollHeight}document.getElementById("form").onsubmit=async e=>{e.preventDefault();const msg=prompt.value.trim();if(!msg)return;add("user",msg);prompt.value="";const resp=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:msg})});const reader=resp.body.getReader();let ai="";for(;;){const {done,value}=await reader.read();if(done)break;ai+=new TextDecoder().decode(value);add("assistant",ai)}};</script></body></html>
